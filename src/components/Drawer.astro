---
import { LINKS, SITE } from "@config"
import { cn } from "@lib/utils"
const { pathname } = Astro.url
const subpath = pathname.match(/[^/]+/g)
---

<div id="drawer" class="fixed inset-0 h-0 z-40 overflow-hidden flex flex-col items-center justify-center md:hidden bg-ijo-muda transition-[height] duration-300 ease-in-out text-lg font-semibold">
  <nav class="flex flex-col items-center space-y-2">
    {
      LINKS.map((LINK) => (
        <a href={LINK.HREF} class={cn("flex items-center justify-center px-3 py-1 rounded-full", "text-current hover:text-hitam", "transition-all duration-300 ease-in-out", pathname === LINK.HREF || "/" + subpath?.[0] === LINK.HREF ? "pointer-events-none bg-hitam text-white" : "")}>
          <span class="hover:underline-animate">{LINK.TEXT}</span>
        </a>
      ))
    }
  </nav>
  <div class="mt-4 flex flex-col space-y-4 items-center">
    <button id="modal-signin" aria-label="Modal open and closed" class="btn whitespace-nowrap opacity-90 hover:opacity-100 transition-opacity duration-500">
      <div class="btn__content">
        <span class="-mt-1">Sign In</span>
        <svg class="btn__arrow h-5" width="25" height="15" fill="currentColor">
          <use href="/ui.svg#arrow"></use>
        </svg>
      </div>
    </button>
    <button type="button" aria-label="Question Jar" class="btn ml-4 question-jar-btn opacity-80 hover:opacity-100 transition-opacity duration-500">
      <div class="btn__content">
        <img src="/q-mark.webp" alt="Question Jar" class="w-[10px] h-auto ml-[3px] question-jar-icon" width="24" height="54">
      </div>
    </button>
  </div>
</div>

<style>
  #drawer.open {
    @apply h-full;
  }
</style>